# Documentación tsp2

## 1. Representación con **secuencia de inversiones** (en lugar de permutaciones directas)

* Normalmente se representa un tour como una permutación de las ciudades (ej. \[1,3,2,4,...]).
* El problema es que el cruce y la mutación estándar generan permutaciones inválidas (ciudades repetidas o faltantes).
* Para evitar esto, el artículo propone **usar la secuencia de inversiones**:

  * Para cada ciudad *j*, se guarda cuántos elementos mayores que *j* aparecen antes que ella en la permutación.
  * Ejemplo: la permutación `[4,6,2,7,3,1,5]` se representa como `[5,2,3,0,2,0,0]`.
* Con esta representación, **cualquier resultado de cruce o mutación es automáticamente válido**, porque siempre se puede mapear de vuelta a una permutación legal.

## 2. **Uso de operadores de cruce estándar (n-point crossover)**

* En lugar de operadores especializados como PMX, OX, ER, etc., el método permite **usar directamente los cruces típicos de cadenas binarias** (1-punto, n-puntos).
* Esto es importante porque:

  * Se preserva la idea de **building blocks** (subestructuras útiles heredadas de los padres).
  * Se elimina la complejidad de los operadores especializados que "arreglan" permutaciones inválidas.

## 3. **Mutación ordinaria (bit-flip o modificación puntual)**

* Igual que con el cruce, la mutación ya no requiere reglas especiales.
* Basta con cambiar valores de la secuencia de inversiones, y aún así se obtiene una permutación válida al decodificar.
* Contrasta con el método clásico, donde la mutación debe ser un swap o un reordenamiento para no romper la validez.

## 4. **Parámetros experimentales relevantes**

* El autor usa configuraciones específicas para comparar con PMX:

  * **Crossover de 10 puntos** (no 1-punto).
  * **Tamaño de población = 1000 cromosomas.**
  * **Elitismo del 15%.**
  * **Mutación = 0.007 por gen.**
* Aunque no están justificados teóricamente, se ajustaron empíricamente para ambos métodos.
* Importante: el método propuesto **reacciona de forma coherente a los mismos parámetros que PMX**, lo cual lo hace versátil.

## 5. **Criterio de terminación especial**

* No se fija un número de generaciones predeterminado.
* El GA se detiene cuando **el mejor fitness no cambia durante `max(200, Generaciones/3)` generaciones**.
* Además, para análisis, definen la "generación final" como **la última en la que hubo una mejora en el mejor individuo**, lo que mide mejor la velocidad de convergencia.

## 6. **Resultados diferenciales**

* **Calidad de la solución:** en promedio PMX logra tours ligeramente mejores (1–15%).
* **Velocidad de convergencia:** el método de secuencias de inversión es hasta **11 veces más rápido** en llegar a su mejor solución.
* Además, el número de iteraciones necesarias es **mucho más estable** (menor desviación estándar) que en PMX.
